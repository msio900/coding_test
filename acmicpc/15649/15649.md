# 15649 : Nê³¼ M (1) [â†©](../../acmicpc)

[15649 : Nê³¼ M (1)](https://www.acmicpc.net/problem/15649)

| ì‹œê°„ ì œí•œ | ë©”ëª¨ë¦¬ ì œí•œ | ì œì¶œ  | ì •ë‹µ  | ë§íŒ ì‚¬ëŒ | ì •ë‹µ ë¹„ìœ¨ |
| :-------- | :---------- | :---- | :---- | :-------- | :-------- |
| 1 ì´ˆ      | 512 MB      | 70219 | 43899 | 29064     | 61.715%   |

## ë¬¸ì œ

ìì—°ìˆ˜ Nê³¼ Mì´ ì£¼ì–´ì¡Œì„ ë•Œ, ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê¸¸ì´ê°€ Mì¸ ìˆ˜ì—´ì„ ëª¨ë‘ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

- 1ë¶€í„° Nê¹Œì§€ ìì—°ìˆ˜ ì¤‘ì—ì„œ ì¤‘ë³µ ì—†ì´ Mê°œë¥¼ ê³ ë¥¸ ìˆ˜ì—´

## ì…ë ¥

ì²«ì§¸ ì¤„ì— ìì—°ìˆ˜ Nê³¼ Mì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ M â‰¤ N â‰¤ 8)

## ì¶œë ¥

í•œ ì¤„ì— í•˜ë‚˜ì”© ë¬¸ì œì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìˆ˜ì—´ì„ ì¶œë ¥í•œë‹¤. ì¤‘ë³µë˜ëŠ” ìˆ˜ì—´ì„ ì—¬ëŸ¬ ë²ˆ ì¶œë ¥í•˜ë©´ ì•ˆë˜ë©°, ê° ìˆ˜ì—´ì€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•´ì„œ ì¶œë ¥í•´ì•¼ í•œë‹¤.

ìˆ˜ì—´ì€ ì‚¬ì „ ìˆœìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ìˆœì„œë¡œ ì¶œë ¥í•´ì•¼ í•œë‹¤.

### ì˜ˆì œ ì…ë ¥

```python
in[0]
3 1

out[0]
1
2
3

in[1]
4 2

out[1]
1 2
1 3
1 4
2 1
2 3
2 4
3 1
3 2
3 4
4 1
4 2
4 3

in[2]
4 4

out[2]
1 2 3 4
1 2 4 3
1 3 2 4
1 3 4 2
1 4 2 3
1 4 3 2
2 1 3 4
2 1 4 3
2 3 1 4
2 3 4 1
2 4 1 3
2 4 3 1
3 1 2 4
3 1 4 2
3 2 1 4
3 2 4 1
3 4 1 2
3 4 2 1
4 1 2 3
4 1 3 2
4 2 1 3
4 2 3 1
4 3 1 2
4 3 2 1
```

---

## ğŸ’¡í’€ì´

### 1ì°¨ ì‹œë„

```python
from itertools import permutations
import sys

input = sys.stdin.readline

n, m = map(int, input().split()) # n : 1 ~ nê¹Œì§€ ìì—°ìˆ˜ m : ì¤‘ë³µì—†ì´ mê°œë¥¼ ê³ ë¦„

n_list = list(range(1, n + 1)) # n_list : 1 ~ nê¹Œì§€ ìì—°ìˆ˜ë¡œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸

for j in permutations(n_list, m): # permutations(iterable, r=None) : iterableì—ì„œ ìš”ì†Œì˜ ì—°ì†ëœ ê¸¸ì´ r ìˆœì—´ì„ ë°˜í™˜
    print(*j)
```

### ì„±ê³µğŸ˜‚

![image-20221130070628487](../images/15649/image-20221130070628487.png)

- 1ë¶€í„° Nê¹Œì§€ ìì—°ìˆ˜ ì¤‘ì—ì„œ ì¤‘ë³µ ì—†ì´ Mê°œë¥¼ ê³ ë¥¸ ìˆ˜ì—´ì„ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.
- `itertools.permutations(iterable, r=None)` : iterableì—ì„œ ìš”ì†Œì˜ ì—°ì†ëœ ê¸¸ì´ r ìˆœì—´ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

### 2ì°¨ ì‹œë„

> ë°”í‚¹ë…ë‹˜ í’€ì´ ì°¸ê³ 

```python
import sys

input = sys.stdin.readline

n, m = map(int, input().split())
arr = list(range(1, n+1))
isused = [0] * n

def func(k : int): # í˜„ì¬ kê°œê¹Œì§€ ìˆ˜ë¥¼ íƒí–ˆìŒ
    if k == m : # base condition mê°œë¥¼ ëª¨ë‘ íƒí–ˆë‹¤ë©´
        for i in range(m):
            print(arr[i], end=' ') arrì— ê¸°ë¡í•´ë‘” ìˆ˜ë¥¼ ì¶œë ¥
        print()
        return
    for i in range(1, n + 1): # 1ë¶€í„° nê¹Œì§€ì˜ ìˆ˜ì— ëŒ€í•´
        if not isused[i-1]: # ì•„ì§ iê°€ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ìœ¼ë©´
            arr[k] = i # kë²ˆì§¸ ìˆ˜ë¥¼ ië¡œ ì •í•¨
            isused[i- 1] = 1 # ië¥¼ ì‚¬ìš©ë˜ì—ˆë‹¤ê³  í‘œì‹œ
            func(k + 1) # ë‹¤ìŒ ìˆ˜ë¥¼ ì •í•˜ëŸ¬ í•œ ë‹¨ê³„ ë” ë“¤ì–´ê°
            isused[i-1] = 0 # kë²ˆì§¸ ìˆ˜ë¥¼ ië¡œ ì •í•œ ëª¨ë“  ê²½ìš°ì— ëŒ€í•´ ë‹¤ í™•ì¸í–ˆìœ¼ë‹ˆ ië¥¼ ì´ì œ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ë‹¤ê³  ëª…ì‹œí•¨.

func(0)
```

### ì„±ê³µğŸ˜Š

![image-20221130070655527](../images/15649/image-20221130070655527.png)

* ë°±íŠ¸ë˜í‚¹ì„ í™œìš©í•˜ì—¬ í’€ì´
* í’€ì´ ì°¸ê³  [ğŸ‘‰ğŸ»](../../baaarking_dog_algorithm_lecture/0x0C_backtracking.md)