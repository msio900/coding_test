# 4949ë²ˆ : ê· í˜•ì¡íŒ ì„¸ìƒ [â†©](../../acmicpc)

[4949ë²ˆ : ê· í˜•ì¡íŒ ì„¸ìƒ](https://www.acmicpc.net/problem/10866)

| ì‹œê°„ ì œí•œ | ë©”ëª¨ë¦¬ ì œí•œ | ì œì¶œ  | ì •ë‹µ  | ë§íŒ ì‚¬ëŒ | ì •ë‹µ ë¹„ìœ¨ |
| :-------- | :---------- | :---- | :---- | :-------- | :-------- |
| 1 ì´ˆ      | 128 MB      | 78116 | 25908 | 20385     | 32.343%   |

## ğŸ–‹ï¸ë¬¸ì œ

- ì„¸ê³„ëŠ” ê· í˜•ì´ ì˜ ì¡í˜€ìˆì–´ì•¼ í•œë‹¤. ì–‘ê³¼ ìŒ, ë¹›ê³¼ ì–´ë‘  ê·¸ë¦¬ê³  ì™¼ìª½ ê´„í˜¸ì™€ ì˜¤ë¥¸ìª½ ê´„í˜¸ì²˜ëŸ¼ ë§ì´ë‹¤.

  ì •ë¯¼ì´ì˜ ì„ë¬´ëŠ” ì–´ë–¤ ë¬¸ìì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ê´„í˜¸ë“¤ì˜ ê· í˜•ì´ ì˜ ë§ì¶°ì ¸ ìˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì§œëŠ” ê²ƒì´ë‹¤.

  ë¬¸ìì—´ì— í¬í•¨ë˜ëŠ” ê´„í˜¸ëŠ” ì†Œê´„í˜¸("()") ì™€ ëŒ€ê´„í˜¸("[]")ë¡œ 2ì¢…ë¥˜ì´ê³ , ë¬¸ìì—´ì´ ê· í˜•ì„ ì´ë£¨ëŠ” ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ë‹¤.

  - ëª¨ë“  ì™¼ìª½ ì†Œê´„í˜¸("(")ëŠ” ì˜¤ë¥¸ìª½ ì†Œê´„í˜¸(")")ì™€ë§Œ ì§ì„ ì´ë¤„ì•¼ í•œë‹¤.
  - ëª¨ë“  ì™¼ìª½ ëŒ€ê´„í˜¸("[")ëŠ” ì˜¤ë¥¸ìª½ ëŒ€ê´„í˜¸("]")ì™€ë§Œ ì§ì„ ì´ë¤„ì•¼ í•œë‹¤.
  - ëª¨ë“  ì˜¤ë¥¸ìª½ ê´„í˜¸ë“¤ì€ ìì‹ ê³¼ ì§ì„ ì´ë£° ìˆ˜ ìˆëŠ” ì™¼ìª½ ê´„í˜¸ê°€ ì¡´ì¬í•œë‹¤.
  - ëª¨ë“  ê´„í˜¸ë“¤ì˜ ì§ì€ 1:1 ë§¤ì¹­ë§Œ ê°€ëŠ¥í•˜ë‹¤. ì¦‰, ê´„í˜¸ í•˜ë‚˜ê°€ ë‘˜ ì´ìƒì˜ ê´„í˜¸ì™€ ì§ì§€ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤.
  - ì§ì„ ì´ë£¨ëŠ” ë‘ ê´„í˜¸ê°€ ìˆì„ ë•Œ, ê·¸ ì‚¬ì´ì— ìˆëŠ” ë¬¸ìì—´ë„ ê· í˜•ì´ ì¡í˜€ì•¼ í•œë‹¤.

  ì •ë¯¼ì´ë¥¼ ë„ì™€ ë¬¸ìì—´ì´ ì£¼ì–´ì¡Œì„ ë•Œ ê· í˜•ì¡íŒ ë¬¸ìì—´ì¸ì§€ ì•„ë‹Œì§€ë¥¼ íŒë‹¨í•´ë³´ì.

### ì…ë ¥

í•˜ë‚˜ ë˜ëŠ” ì—¬ëŸ¬ì¤„ì— ê±¸ì³ì„œ ë¬¸ìì—´ì´ ì£¼ì–´ì§„ë‹¤. ê° ë¬¸ìì—´ì€ ì˜ë¬¸ ì•ŒíŒŒë²³, ê³µë°±, ì†Œê´„í˜¸("( )") ëŒ€ê´„í˜¸("[ ]")ë“±ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°, ê¸¸ì´ëŠ” 100ê¸€ìë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ë‹¤. ê° ì¤„ì€ ë§ˆì¹¨í‘œ(".")ë¡œ ëë‚œë‹¤.

ì…ë ¥ì˜ ì¢…ë£Œì¡°ê±´ìœ¼ë¡œ ë§¨ ë§ˆì§€ë§‰ì— ì  í•˜ë‚˜(".")ê°€ ë“¤ì–´ì˜¨ë‹¤.

### ì¶œë ¥

ê° ì¤„ë§ˆë‹¤ í•´ë‹¹ ë¬¸ìì—´ì´ ê· í˜•ì„ ì´ë£¨ê³  ìˆìœ¼ë©´ "yes"ë¥¼, ì•„ë‹ˆë©´ "no"ë¥¼ ì¶œë ¥í•œë‹¤.

### ì˜ˆì œ ì…ë ¥

```python
in[0]
So when I die (the [first] I will see in (heaven) is a score list).
[ first in ] ( first out ).
Half Moon tonight (At least it is better than no Moon at all].
A rope may form )( a trail in a maze.
Help( I[m being held prisoner in a fortune cookie factory)].
([ (([( [ ] ) ( ) (( ))] )) ]).
 .
.

out[0]
yes
yes
no
no
no
yes
yes

```

---

## ğŸ’¡í’€ì´

### 1ì°¨ ì‹œë„

```python
import sys

input = sys.stdin.readline

bracket = {'(':')', '[':']'}

while True:
    sentence = input().rstrip()
    if sentence == '.': # whileë¬¸ ì¢…ë£Œ ì¡°ê±´
        break
    stack = [] # ìŠ¤íƒ ì •ì˜
    flag = True # flag ì •ì˜
    for letter in sentence: # ë¬¸ì¥ì—ì„œ ë¬¸ì í•˜ë‚˜ì”© í™•ì¸
        if letter in '([': # ì—¬ëŠ” ê´„í˜¸ì¼ ê²½ìš° ìŠ¤íƒì— ì§‘ì–´ë„£ê¸° 
            stack.append(letter)
        elif letter in ')]': # ë‹«ëŠ” ê´„í˜¸ì¼ ê²½ìš° ê²€ì‚¬
            if not stack: # ìŠ¤íƒì´ ë¹„ì–´ ìˆë‹¤ë©´ ê´„í˜¸ìŒ ì„±ë¦½í•˜ì§€ ì•ŠìŒ -> ì¢…ë£Œ
                flag = False
                break
            elif stack:
                if bracket[stack[-1]] != letter: # ê°€ì¥ ìœ„ì˜ ì—¬ëŠ”ê´„í˜¸ë‘ ìŒì„ ì´ë£¨ì§€ ì•Šìœ¼ë©´ ê´„í˜¸ ìŒ ì„±ë¦½í•˜ì§€ ì•ŠìŒ -> ì¢…ë£Œ
                    flag = False
                    break
                elif bracket[stack[-1]] == letter: # ê°€ì¥ ìœ„ì˜ ì—¬ëŠ”ê´„í˜¸ì™€ ìŒì„ ì´ë£¨ë©´ ì—¬ëŠ” ê´„í˜¸ ì‚­ì œ
                    stack.pop()
    if stack: # whileë¬¸ì„ ë§ˆì¹˜ê³  ìŠ¤íƒì´ ë‚¨ì•„ìˆë‹¤ë©´ ê´„í˜¸ ìŒì„ ì„±ë¦½í•˜ì§€ ì•ŠìŒ
        flag = False
    if flag:# ê´„í˜¸ ìŒ ì„±ë¦½ ì—¬ë¶€ ì¶œë ¥
        print('yes')
    else:
        print('no')
```

###  ì„±ê³µğŸ˜Š

![image-20221122195112953](../images/4949/image-20221122195112953.png)

* íŒŒì´ì¬ì˜ list ìë£Œí˜•ìœ¼ë¡œ ìŠ¤íƒì„ êµ¬í˜„í•˜ì—¬ í’€ì´

* ë‹¤ìŒì˜ ê´„í˜¸ìŒ ì›ì¹™ì„ êµ¬í˜„
  ```python
  '''
  1. ì—¬ëŠ” ê´„í˜¸ê°€ ë‚˜ì˜¤ë©´ ìŠ¤íƒì— ì¶”ê°€
  2. ë‹«ëŠ” ê´„í˜¸ê°€ ë‚˜ì™”ì„ ê²½ìš°,
  	2-1. ìŠ¤íƒì´ ë¹„ì–´ìˆìœ¼ë©´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê´„í˜¸ ìŒ
      2-2. ìŠ¤íƒì˜ topì´ ì§ì´ ë§ì§€ ì•Šì€ ê´„í˜¸ì¼ ê²½ìš° ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê´„í˜¸ ìŒ
      2-3. ìŠ¤íƒì˜ topì´ ì§ì´ ë§ëŠ” ê´„í˜¸ì¼ ê²½ìš° pop
  3. ëª¨ë“  ê³¼ì •ì„ ëë‚¸ í›„ ìŠ¤íƒì— ê´„í˜¸ê°€ ë‚¨ì•„ìˆìœ¼ë©´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê´„í˜¸ ìŒ, ë‚¨ì•„ìˆì§€ ì•Šìœ¼ë©´ ì˜¬ë°”ë¥¸ ê´„í˜¸ ìŒ
  '''
  ```

### ë‹¤ë¥¸ í’€ì´ğŸ¤

> ìˆ˜ë¯¼ë‹˜ í’€ì´

```python
# ìœ„ ì½”ë“œë¥¼ ì¢€ ë” ì§§ê²Œ ì¨ ë³¸ ì½”ë“œ, ì‹œê°„ì€ ë˜‘ê°™ìŒ
import sys
input = sys.stdin.readline

pair = {'(':')', '[':']'}
while True:
    a = input().rstrip()
    if a == '.': # ì¢…ë£Œì¡°ê±´
        break
    stack = []
    flag = True
    for x in a:
        if x in '([': # ì—¬ëŠ” ê´„í˜¸ê°€ ë‚˜ì˜¤ë©´ ìŠ¤íƒì— ì¶”ê°€
            stack.append(x)
        elif x in ')]': # ë‹«ëŠ” ê´„í˜¸ê°€ ë‚˜ì™”ì„ ë•Œ
            if not stack or pair[stack[-1]] != x: # ìŠ¤íƒì´ ë¹„ì–´ìˆê±°ë‚˜, ìŒì´ ë§ì§€ ì•Šìœ¼ë©´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê´„í˜¸ìŒ
                flag = False
                break
            stack.pop()
    if stack: # ìŠ¤íƒì— ê´„í˜¸ê°€ ë‚¨ì•„ìˆìœ¼ë©´ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê´„í˜¸ìŒ
        flag = False
    print('yes' if flag else 'no')
```

