# 1406ë²ˆ : ì—ë””í„° [â†©](../../acmicpc)

[1406ë²ˆ : ì—ë””í„°](https://www.acmicpc.net/problem/1406)

## ðŸ–‹ï¸ë¬¸ì œ

í•œ ì¤„ë¡œ ëœ ê°„ë‹¨í•œ ì—ë””í„°ë¥¼ êµ¬í˜„í•˜ë ¤ê³  í•œë‹¤. ì´ íŽ¸ì§‘ê¸°ëŠ” ì˜ì–´ ì†Œë¬¸ìžë§Œì„ ê¸°ë¡í•  ìˆ˜ ìžˆëŠ” íŽ¸ì§‘ê¸°ë¡œ, ìµœëŒ€ 600,000ê¸€ìžê¹Œì§€ ìž…ë ¥í•  ìˆ˜ ìžˆë‹¤.

ì´ íŽ¸ì§‘ê¸°ì—ëŠ” 'ì»¤ì„œ'ë¼ëŠ” ê²ƒì´ ìžˆëŠ”ë°, ì»¤ì„œëŠ” ë¬¸ìž¥ì˜ ë§¨ ì•ž(ì²« ë²ˆì§¸ ë¬¸ìžì˜ ì™¼ìª½), ë¬¸ìž¥ì˜ ë§¨ ë’¤(ë§ˆì§€ë§‰ ë¬¸ìžì˜ ì˜¤ë¥¸ìª½), ë˜ëŠ” ë¬¸ìž¥ ì¤‘ê°„ ìž„ì˜ì˜ ê³³(ëª¨ë“  ì—°ì†ëœ ë‘ ë¬¸ìž ì‚¬ì´)ì— ìœ„ì¹˜í•  ìˆ˜ ìžˆë‹¤. ì¦‰ ê¸¸ì´ê°€ Lì¸ ë¬¸ìžì—´ì´ í˜„ìž¬ íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆìœ¼ë©´, ì»¤ì„œê°€ ìœ„ì¹˜í•  ìˆ˜ ìžˆëŠ” ê³³ì€ L+1ê°€ì§€ ê²½ìš°ê°€ ìžˆë‹¤.

ì´ íŽ¸ì§‘ê¸°ê°€ ì§€ì›í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

| L    | ì»¤ì„œë¥¼ ì™¼ìª½ìœ¼ë¡œ í•œ ì¹¸ ì˜®ê¹€ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ì•žì´ë©´ ë¬´ì‹œë¨)  |
| :--- | ------------------------------------------------------------ |
| D    | ì»¤ì„œë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í•œ ì¹¸ ì˜®ê¹€ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ë’¤ì´ë©´ ë¬´ì‹œë¨) |
| B    | ì»¤ì„œ ì™¼ìª½ì— ìžˆëŠ” ë¬¸ìžë¥¼ ì‚­ì œí•¨ (ì»¤ì„œê°€ ë¬¸ìž¥ì˜ ë§¨ ì•žì´ë©´ ë¬´ì‹œë¨) ì‚­ì œë¡œ ì¸í•´ ì»¤ì„œëŠ” í•œ ì¹¸ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•œ ê²ƒì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ì§€ë§Œ, ì‹¤ì œë¡œ ì»¤ì„œì˜ ì˜¤ë¥¸ìª½ì— ìžˆë˜ ë¬¸ìžëŠ” ê·¸ëŒ€ë¡œìž„ |
| P $  | $ë¼ëŠ” ë¬¸ìžë¥¼ ì»¤ì„œ ì™¼ìª½ì— ì¶”ê°€í•¨                              |

ì´ˆê¸°ì— íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì´ ì£¼ì–´ì§€ê³ , ê·¸ ì´í›„ ìž…ë ¥í•œ ëª…ë ¹ì–´ê°€ ì°¨ë¡€ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ëª¨ë“  ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ê³  ë‚œ í›„ íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤. ë‹¨, ëª…ë ¹ì–´ê°€ ìˆ˜í–‰ë˜ê¸° ì „ì— ì»¤ì„œëŠ” ë¬¸ìž¥ì˜ ë§¨ ë’¤ì— ìœ„ì¹˜í•˜ê³  ìžˆë‹¤ê³  í•œë‹¤.

### ìž…ë ¥

ì²«ì§¸ ì¤„ì—ëŠ” ì´ˆê¸°ì— íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì´ ì£¼ì–´ì§„ë‹¤. ì´ ë¬¸ìžì—´ì€ ê¸¸ì´ê°€ Nì´ê³ , ì˜ì–´ ì†Œë¬¸ìžë¡œë§Œ ì´ë£¨ì–´ì ¸ ìžˆìœ¼ë©°, ê¸¸ì´ëŠ” 100,000ì„ ë„˜ì§€ ì•ŠëŠ”ë‹¤. ë‘˜ì§¸ ì¤„ì—ëŠ” ìž…ë ¥í•  ëª…ë ¹ì–´ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ M(1 â‰¤ M â‰¤ 500,000)ì´ ì£¼ì–´ì§„ë‹¤. ì…‹ì§¸ ì¤„ë¶€í„° Mê°œì˜ ì¤„ì— ê±¸ì³ ìž…ë ¥í•  ëª…ë ¹ì–´ê°€ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ëª…ë ¹ì–´ëŠ” ìœ„ì˜ ë„¤ ê°€ì§€ ì¤‘ í•˜ë‚˜ì˜ í˜•íƒœë¡œë§Œ ì£¼ì–´ì§„ë‹¤.


### ì¶œë ¥

ì²«ì§¸ ì¤„ì— ëª¨ë“  ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰í•˜ê³  ë‚œ í›„ íŽ¸ì§‘ê¸°ì— ìž…ë ¥ë˜ì–´ ìžˆëŠ” ë¬¸ìžì—´ì„ ì¶œë ¥í•œë‹¤. 

### ì˜ˆì œ ìž…ë ¥

```python
in[0]
abcd
3
P x
L
P y

out[0]
abcdyx

in[1]
abc
9
L
L
L
L
L
P x
L
B
P y

out[1]
yxabc

in[2]
dmih
11
B
B
P x
L
B
B
B
P y
D
D
P z

out[2]
yxz

```

---

## ðŸ’¡í’€ì´

* 1ì°¨ì‹œ

```python
import sys

N_list = list(sys.stdin.readline().strip())

M = int(sys.stdin.readline())
cursor = len(N_list)

for _ in range(M):
    move = sys.stdin.readline().split()
    if move[0] == 'L':
        if cursor > 0:
            cursor -= 1

        else:
            pass

    if move[0] == 'D':
        if cursor < len(N_list):
            cursor += 1
        else:
            pass

    if move[0] == 'B':
        if cursor <= 0:
            pass
        else:
            del N_list[cursor-1]
            cursor -= 1

    if move[0] == 'P':
        N_list.insert(cursor, move[1])
        cursor += 1


print(N_list)

```


### ì‹¤íŒ¨ðŸ˜‚

* ì‹œê°„ ì´ˆê³¼

## âœï¸í’€ì´ ì •ë¦¬

### ê°„íŽ¸í•œ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•œ í’€ì´

```python
import sys

input = sys.stdin.readline

s = input().rstrip()
n = int(input())

# ê°„íŽ¸í•œ ì—°ê²°ë¦¬ìŠ¤íŠ¸ êµ¬í˜„
mx =1000005
dat = [-1]*mx
pre = [-1]*mx
nxt = [-1]*mx

unused = 1

# ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— ì›ì†Œ ì‚½ìž…
def insert(addr:int, num:int):
    global unused
    dat[unused] = num
    pre[unused] = addr
    nxt[unused] = nxt[addr]
    if nxt[addr] != -1:
        pre[nxt[addr]] = unused
    nxt[addr] = unused
    unused += 1

# ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— íŠ¹ì • ì£¼ì†Œ ì›ì†Œ ì œê±°
def erase(addr:int):
    nxt[pre[addr]] = nxt[addr]
    if nxt[addr] != -1:
        pre[nxt[addr]] = pre[addr]

# ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ ì¶œë ¥
def traverse():
    cur = nxt[0]
    while cur != -1:
        print(dat[cur], end='')
        cur = nxt[cur]

cursor = 0 # ì»¤ì„œ ê·œì •

# ìž…ë ¥ë°›ì€ ë¬¸ìžì—´ S ì›ì†Œ ì—°ê²°ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
for i in s:
    insert(cursor, i)
    cursor +=1

for _ in range(n):
    command = input().split()
    if command[0] == 'L': # 
        if pre[cursor] != -1:
            cursor = pre[cursor]
    elif command[0] == 'D':
        if nxt[cursor] != -1:
            cursor = nxt[cursor]
    elif command[0] == 'B':
        if pre[cursor] != -1:
            erase(cursor)
            cursor = pre[cursor]
    else:
        insert(cursor, command[1])
        cursor = nxt[cursor]
traverse()
```



 
